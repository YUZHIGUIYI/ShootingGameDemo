# ShootingGameDemo
这是一个单人TPS游戏的小Demo，仅作个人练习展示。主要涉及的技术点：
- 武器系统：枪支的装备和挂载、切换、丢弃
- 属性系统：玩家具备生命值和体力值，受到AI攻击时生命减少，冲刺时消耗体力，属性变化绑定动态多播委托
- 交互系统：通过射线检测可以与实现GamePlayInterface接口的Actor之间进行交互，完成诸如枪支武器的拾取、消耗品的购买等
- 动作系统：使用GameplayTags控制不同动作（开火、冲刺、换弹、狙击开镜）的切换，同时避免不同动作的干涉；也可以完成Buff/Debuff的施加（当前仅加入了火箭弹爆炸后的燃烧伤害）
- AI系统：使用AIPerception进行玩家搜索，使用Task、Service和EQS协调控制AI的定点巡逻、追击、攻击和躲避玩家等行为
- 商店系统：玩家可使用积分购买消耗品（如医疗包、弹药）和武器，购买的物品将自动放入背包
- 背包系统：玩家通过B键呼出背包界面，通过鼠标右键呼出菜单（包括Apply、Discard和Cancel三个选项），实现物品描述的效果，并可进行自定义换装（尚未实现）
    - 对于子弹类消耗品，在持有该武器的情况下，点击Apply后，物品数量减一，相应武器的弹夹数量扩充
    - 对于医疗类消耗品，在生命值未满的情况下，点击Apply后，物品数量减1（当然也可以指定消耗数量），生命值恢复该物品描述的数值*物品消耗数量
    - 对于武器类，点击Apply后，由UE的资产加载器（AssetManager）加载到当局游戏中，目前玩家需要手动拾取武器，后期将加入自动挂载功能
    - 所有物品，在点击Discard后，都默认丢弃一个数量的该物品，当然可以指定丢弃数量
- 存档系统：借助SGSaveGameSubsystem（继承自UGameInstanceSubsystem）和SGSaveGame实现，由GameMode调用，主要用于存储所属玩家的属性、积分、背包信息
- GameplayBlueprintLibrary：定义了一些常用的全局静态函数，如GameplayTags的比较，伤害的传递、生命值属性的修改等
- 任务系统：定义了一个继承于UGameInstanceSubsystem的子类USGGameMissionSubsystem，统计击杀的AI数量和当局游戏的得分，由GameMode调用
- PlayerController：定义了一个动态多播委托OnPawnChanged，控制玩家的属性和组件更新和重置、部分UI（如狙击开镜UI、任务提示UI、任务结算UI、背包UI）的创建和销毁
- PlayerState：存储玩家在当局游戏的积分和背包信息，积分可通过击杀AI获取
- GameMode：控制不同时间AI的生成位置和生成数量，控制玩家的死亡重生，控制存档的加载，调用任务系统，定义游戏的结束条件（完成任务则退出）